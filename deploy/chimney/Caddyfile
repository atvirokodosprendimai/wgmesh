# Caddyfile for chimney origin server
# Caddy handles TLS automatically via Let's Encrypt / ZeroSSL
#
# Architecture (Docker Compose):
#   Client → chimney.beerpub.dev → Caddy (TLS, ports 80/443)
#                                 → chimney container (:8080, internal network)
#
# Caching is handled by the chimney origin server, not at the Caddy layer.

chimney.beerpub.dev {
	reverse_proxy chimney:8080 {
		health_uri /healthz
		health_interval 10s
		health_timeout 3s
	}

	header {
		X-Served-By {system.hostname}
		-Server
	}

	log {
		output stdout
	}
}
